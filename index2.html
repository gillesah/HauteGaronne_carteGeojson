<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel='stylesheet' id='dashicons-css'  href='https://hautegaronneencommun.fr/wp-includes/css/dashicons.min.css?ver=5.7' type='text/css' media='all' />
    <link rel='stylesheet' id='admin-bar-css'  href='https://hautegaronneencommun.fr/wp-includes/css/admin-bar.min.css?ver=5.7' type='text/css' media='all' />
    <link rel='stylesheet' id='themify-common-css'  href='https://hautegaronneencommun.fr/wp-content/themes/fullpane/themify/css/themify.common.min.css?ver=5.7' type='text/css' media='all' />
    <meta name="builder-styles-css" content="builder-styles-css" id="builder-styles-css">
    <link rel='stylesheet' id='wp-block-library-css'  href='https://hautegaronneencommun.fr/wp-includes/css/dist/block-library/style.min.css?ver=5.7' type='text/css' media='all' />
    <link rel='stylesheet' id='contact-form-7-css'  href='https://hautegaronneencommun.fr/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=5.4' type='text/css' media='all' />
    <link rel='stylesheet' id='mapbox_gl_js_css-css'  href='https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css?ver=5.7' type='text/css' media='all' />
    <link rel='stylesheet' id='mapbox_gl_js_geocoder_css-css'  href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.2.0/mapbox-gl-geocoder.css?ver=5.7' type='text/css' media='all' />
    <link rel='stylesheet' id='mapbox_gl_js_directions_css-css'  href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v3.1.1/mapbox-gl-directions.css?ver=5.7' type='text/css' media='all' />
    <link rel='stylesheet' id='wp-mapbox-gl-js-css'  href='https://hautegaronneencommun.fr/wp-content/plugins/wp-mapbox-gl-js/public/css/wp-mapbox-gl-js-public.css?ver=3.0.0' type='text/css' media='all' />
    <link rel='stylesheet' id='duplicate-post-css'  href='https://hautegaronneencommun.fr/wp-content/plugins/duplicate-post/css/duplicate-post.css?ver=4.1.2' type='text/css' media='all' />
    <link rel='stylesheet' id='parent-style-css'  href='https://hautegaronneencommun.fr/wp-content/themes/fullpane/style.css?ver=5.7' type='text/css' media='all' />
    <link rel='stylesheet' id='theme-style-css'  href='https://hautegaronneencommun.fr/wp-content/themes/fullpane/style.min.css?ver=0.1.0' type='text/css' media='all' />
    <link rel='stylesheet' id='themify-media-queries-css'  href='https://hautegaronneencommun.fr/wp-content/themes/fullpane/media-queries.min.css?ver=0.1.0' type='text/css' media='all' />
    <link rel='stylesheet' id='theme-style-child-css'  href='https://hautegaronneencommun.fr/wp-content/themes/lemeon_child/style.css?ver=0.1.0' type='text/css' media='all' />
    <link rel='stylesheet' id='themify-builder-11-generated-css'  href='https://hautegaronneencommun.fr/wp-content/uploads/themify-css/themify-builder-11-generated.css?ver=1617008332' type='text/css' media='all' />
    <link rel='stylesheet' id='themify-customize-css'  href='https://hautegaronneencommun.fr/wp-content/uploads/themify-customizer.css?ver=21.03.25.10.00.13' type='text/css' media='all' />
    <link rel='stylesheet' id='themify-google-fonts-css'  href='https://fonts.googleapis.com/css?family=Roboto%3A400%2C100%2C300%2C700%7CRoboto+Condensed%3A400%2C300%2C700&#038;subset=latin&#038;ver=5.7' type='text/css' media='all' />
    <script type='text/javascript' src='https://hautegaronneencommun.fr/wp-includes/js/jquery/jquery.min.js?ver=3.5.1' id='jquery-core-js'></script>
    <script type='text/javascript' src='https://hautegaronneencommun.fr/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
    <script type='text/javascript' src='https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js?ver=5.7' id='mapbox_gl_js-js'></script>
    <script type='text/javascript' src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.2.0/mapbox-gl-geocoder.min.js?ver=5.7' id='mapbox_gl_geocoder_js-js'></script>
    <script type='text/javascript' src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v3.1.1/mapbox-gl-directions.js?ver=5.7' id='mapbox_gl_directions_js-js'></script>
    <script type='text/javascript' src='https://hautegaronneencommun.fr/wp-content/plugins/wp-mapbox-gl-js/public/js/wp-mapbox-gl-js-public.js?ver=872' id='wp-mapbox-gl-js-js'></script>
    <script type='text/javascript' defer="defer" src='https://hautegaronneencommun.fr/wp-content/themes/fullpane/js/script.js?ver=5.7' id='scriptsearch-js'></script>
    <script type='text/javascript' defer="defer" src='https://hautegaronneencommun.fr/wp-content/themes/fullpane/js/scroll.js?ver=5.7' id='scroll-js'></script>
    <link rel="https://api.w.org/" href="https://hautegaronneencommun.fr/wp-json/" /><link rel="alternate" type="application/json" href="https://hautegaronneencommun.fr/wp-json/wp/v2/pages/11" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://hautegaronneencommun.fr/xmlrpc.php?rsd" />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://hautegaronneencommun.fr/wp-includes/wlwmanifest.xml" /> 
    <meta name="generator" content="WordPress 5.7" />
    <link rel="canonical" href="https://hautegaronneencommun.fr/" />
    <link rel='shortlink' href='https://hautegaronneencommun.fr/' />
    <link rel="alternate" type="application/json+oembed" href="https://hautegaronneencommun.fr/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fhautegaronneencommun.fr%2F" />
    <link rel="alternate" type="text/xml+oembed" href="https://hautegaronneencommun.fr/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fhautegaronneencommun.fr%2F&#038;format=xml" />
   
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans"
      rel="stylesheet"
    />
    <script src="js/mapbox-gl.js"></script>


    <link
      href="https://api.tiles.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css"
      rel="stylesheet"
    />

    <style>
      body {
        margin: 0;
        padding: 0;
      }
      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
      }
      .marker {
        background-image: url('mapbox-icon.png');
        background-size: cover;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
      }
      .mapboxgl-popup {
        max-width: 200px;
      }
      .mapboxgl-popup-content {
        text-align: center;
        font-family: 'Open Sans', sans-serif;
      }
      
    </style>
  </head>
  <body>
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.min.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.css" type="text/css">
<!-- Promise polyfill script required to use Mapbox GL Geocoder in IE 11 -->
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>
    <div id="map"></div>

    <script>
      mapboxgl.accessToken = 'pk.eyJ1IjoiZ2lsbGVzYWgiLCJhIjoiY2ttbTQ2Mjh2MDQyNDJ2cGU2em50cWZwcyJ9.MAIi4e92qeKOFGiB3mhAYA';
      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/light-v10',
        center: [1.3,43.26921],
        zoom: 7
        //L.control.infoPane('infopane', {position: 'bottomright'}).addTo(map);
      
      });
    
      map.scrollZoom.disable();


map.on('load', function () {
map.addLayer({
    'id': 'states-layer-outline',
    'type': 'line',
    'source': {
      'type': 'geojson',
      'data': 'canton.geojson'
    },
    'paint': {
      'line-color': '#C54B31',
      'line-width': 3
    }
});  
map.addLayer({
    'id': 'states-layer',
    'type': 'fill',
    'source': {
        'type': 'geojson',
        'data': 'canton.geojson'
    },
    'layout': {},
    'paint': {
        'fill-color': 'RGBA(197,75,49,0.31)',
        'fill-opacity': 1,
        'fill-outline-color': 'rgba(200, 100, 240, 1)'
    }
// This is the important part of this example: the addLayer
// method takes 2 arguments: the layer as an object, and a string
// representing another layer's name. if the other layer
// exists in the stylesheet already, the new layer will be positioned
// right before that layer in the stack, making it possible to put
// 'overlays' anywhere in the layer stack.
}, 'water');
});





map.on('click', 'states-layer', function (e) {
new mapboxgl.Popup()
.setLngLat(e.lngLat)
.setHTML('</br> <span class="cantontag">'  + e.features[0].properties.nom_min + '</span></br>' +  '</br>' + 
e.features[0].properties.conseil_1 + '</br>'+
'<p>' + e.features[0].properties.conseil_2 +
  '</br>')
.addTo(map);
});

 
// Change the cursor to a pointer when the mouse is over the states layer.
map.on('mouseenter', 'states-layer', function () {
map.getCanvas().style.cursor = 'pointer';
});
 
// Change it back to a pointer when it leaves.
map.on('mouseleave', 'states-layer', function () {
map.getCanvas().style.cursor = '';
});
map.addControl(
new MapboxGeocoder({
accessToken: mapboxgl.accessToken,
proximity:[1.3,43.26921],
//trackProximity : true,
limit: 4,

proximity: {
    longitude: 1.3,
    latitude: 43.26921
  },
//localGeocoderOnly : true,
mapboxgl: mapboxgl
})
);
  

    </script>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.js"></script>
      <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.1.js"><\/script>')</script>

       <!-- Include Fuse.js for fuzzy search : http://kiro.me/projects/fuse.html -->
      <script src="/js/vendor/fuse.js"></script>
      <script src="/js/leaflet.fusesearch.js"></script>
      <link rel="stylesheet" href="/css/leaflet.fusesearch.css" />

      <!-- Include Info pane -->
      <script src="/js/leaflet.infopane.js"></script>
      <link rel="stylesheet" href="/css/leaflet.infopane.css" />
      <script src="/js/main.js"></script>


  </body>
</html>
